{"ast":null,"code":"import React, { useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring } from 'react-motion';\nimport { absoluteAngleDegrees, radiansToDegrees, positionFromAngle, degreesToRadians, useTheme, useMotionConfig, SmartMotion } from '@nivo/core';\nimport isPlainObject from 'lodash/isPlainObject';\nimport filter from 'lodash/filter';\nimport omit from 'lodash/omit';\nvar annotationSpecPropType = PropTypes.shape({\n  match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number,\n  noteTextOffset: PropTypes.number,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  offset: PropTypes.number\n});\nvar defaultProps = {\n  noteWidth: 120,\n  noteTextOffset: 8,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 13\n};\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defaultPositionAccessor = function defaultPositionAccessor(item) {\n  return {\n    x: item.x,\n    y: item.y\n  };\n};\n\nvar bindAnnotations = function bindAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      _ref$getPosition = _ref.getPosition,\n      getPosition = _ref$getPosition === void 0 ? defaultPositionAccessor : _ref$getPosition,\n      getDimensions = _ref.getDimensions;\n  return annotations.reduce(function (acc, annotation) {\n    filter(items, annotation.match).forEach(function (item) {\n      var position = getPosition(item);\n      var dimensions = getDimensions(item, annotation.offset || 0);\n      acc.push(_objectSpread({}, omit(annotation, ['match', 'offset']), position, dimensions, {\n        datum: item,\n        size: annotation.size || dimensions.size\n      }));\n    });\n    return acc;\n  }, []);\n};\n\nvar getLinkAngle = function getLinkAngle(sourceX, sourceY, targetX, targetY) {\n  var angle = Math.atan2(targetY - sourceY, targetX - sourceX);\n  return absoluteAngleDegrees(radiansToDegrees(angle));\n};\n\nvar computeAnnotation = function computeAnnotation(_ref2) {\n  var type = _ref2.type,\n      x = _ref2.x,\n      y = _ref2.y,\n      size = _ref2.size,\n      width = _ref2.width,\n      height = _ref2.height,\n      noteX = _ref2.noteX,\n      noteY = _ref2.noteY,\n      _ref2$noteWidth = _ref2.noteWidth,\n      noteWidth = _ref2$noteWidth === void 0 ? defaultProps.noteWidth : _ref2$noteWidth,\n      _ref2$noteTextOffset = _ref2.noteTextOffset,\n      noteTextOffset = _ref2$noteTextOffset === void 0 ? defaultProps.noteTextOffset : _ref2$noteTextOffset;\n  var computedNoteX;\n  var computedNoteY;\n\n  if (isPlainObject(noteX)) {\n    if (noteX.abs !== undefined) {\n      computedNoteX = noteX.abs;\n    }\n  } else {\n    computedNoteX = x + noteX;\n  }\n\n  if (isPlainObject(noteY)) {\n    if (noteY.abs !== undefined) {\n      computedNoteY = noteY.abs;\n    }\n  } else {\n    computedNoteY = y + noteY;\n  }\n\n  var computedX = x;\n  var computedY = y;\n  var angle = getLinkAngle(x, y, computedNoteX, computedNoteY);\n\n  if (type === 'circle') {\n    var position = positionFromAngle(degreesToRadians(angle), size / 2);\n    computedX += position.x;\n    computedY += position.y;\n  }\n\n  if (type === 'rect') {\n    var eighth = Math.round((angle + 90) / 45) % 8;\n\n    if (eighth === 0) {\n      computedY -= height / 2;\n    }\n\n    if (eighth === 1) {\n      computedX += width / 2;\n      computedY -= height / 2;\n    }\n\n    if (eighth === 2) {\n      computedX += width / 2;\n    }\n\n    if (eighth === 3) {\n      computedX += width / 2;\n      computedY += height / 2;\n    }\n\n    if (eighth === 4) {\n      computedY += height / 2;\n    }\n\n    if (eighth === 5) {\n      computedX -= width / 2;\n      computedY += height / 2;\n    }\n\n    if (eighth === 6) {\n      computedX -= width / 2;\n    }\n\n    if (eighth === 7) {\n      computedX -= width / 2;\n      computedY -= height / 2;\n    }\n  }\n\n  var textX = computedNoteX;\n  var textY = computedNoteY - noteTextOffset;\n  var noteLineX = computedNoteX;\n  var noteLineY = computedNoteY;\n\n  if ((angle + 90) % 360 > 180) {\n    textX -= noteWidth;\n    noteLineX -= noteWidth;\n  } else {\n    noteLineX += noteWidth;\n  }\n\n  return {\n    points: [[computedX, computedY], [computedNoteX, computedNoteY], [noteLineX, noteLineY]],\n    text: [textX, textY],\n    angle: angle + 90\n  };\n};\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar useAnnotations = function useAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      getPosition = _ref.getPosition,\n      getDimensions = _ref.getDimensions;\n  return useMemo(function () {\n    return bindAnnotations({\n      items: items,\n      annotations: annotations,\n      getPosition: getPosition,\n      getDimensions: getDimensions\n    });\n  }, [items, annotations, getPosition, getDimensions]);\n};\n\nvar useComputedAnnotations = function useComputedAnnotations(_ref2) {\n  var annotations = _ref2.annotations,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight;\n  return useMemo(function () {\n    return annotations.map(function (annotation) {\n      return _objectSpread$1({}, annotation, {\n        computed: computeAnnotation(_objectSpread$1({\n          containerWidth: containerWidth,\n          containerHeight: containerHeight\n        }, annotation))\n      });\n    });\n  }, [annotations, containerWidth, containerHeight]);\n};\n\nvar useComputedAnnotation = function useComputedAnnotation(_ref3) {\n  var type = _ref3.type,\n      containerWidth = _ref3.containerWidth,\n      containerHeight = _ref3.containerHeight,\n      x = _ref3.x,\n      y = _ref3.y,\n      size = _ref3.size,\n      width = _ref3.width,\n      height = _ref3.height,\n      noteX = _ref3.noteX,\n      noteY = _ref3.noteY,\n      noteWidth = _ref3.noteWidth,\n      noteTextOffset = _ref3.noteTextOffset;\n  return useMemo(function () {\n    return computeAnnotation({\n      type: type,\n      containerWidth: containerWidth,\n      containerHeight: containerHeight,\n      x: x,\n      y: y,\n      size: size,\n      width: width,\n      height: height,\n      noteX: noteX,\n      noteY: noteY,\n      noteWidth: noteWidth,\n      noteTextOffset: noteTextOffset\n    });\n  }, [type, containerWidth, containerHeight, x, y, size, width, height, noteX, noteY, noteWidth, noteTextOffset]);\n};\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AnnotationNote = memo(function (_ref) {\n  var datum = _ref.datum,\n      x = _ref.x,\n      y = _ref.y,\n      note = _ref.note;\n  var theme = useTheme();\n\n  if (typeof note === 'function') {\n    return note({\n      x: x,\n      y: y,\n      datum: datum\n    });\n  }\n\n  return React.createElement(React.Fragment, null, theme.annotations.text.outlineWidth > 0 && React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: _objectSpread$2({}, theme.annotations.text, {\n      strokeLinejoin: 'round',\n      strokeWidth: theme.annotations.text.outlineWidth * 2,\n      stroke: theme.annotations.text.outlineColor\n    })\n  }, note), React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])\n  }, note));\n});\nAnnotationNote.displayName = 'AnnotationNote';\nAnnotationNote.propTypes = {\n  datum: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotationNote.defaultProps = {};\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AnnotationLink = memo(function (_ref) {\n  var points = _ref.points,\n      isOutline = _ref.isOutline;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n    return null;\n  }\n\n  var style = _objectSpread$3({}, theme.annotations.link);\n\n  if (isOutline) {\n    style.strokeLinecap = 'square';\n    style.strokeWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n    style.stroke = theme.annotations.link.outlineColor;\n  }\n\n  var path = \"M\".concat(points[0][0], \",\").concat(points[0][1]);\n  points.slice(1).forEach(function (point) {\n    path = \"\".concat(path, \" L\").concat(point[0], \",\").concat(point[1]);\n  });\n\n  if (!animate) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: path,\n      style: style\n    });\n  }\n\n  return React.createElement(SmartMotion, {\n    style: function style(spring) {\n      return {\n        d: spring(path, springConfig)\n      };\n    }\n  }, function (interpolated) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: interpolated.d,\n      style: style\n    });\n  });\n});\nAnnotationLink.displayName = 'AnnotationLink';\nAnnotationLink.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.array).isRequired,\n  isOutline: PropTypes.bool.isRequired\n};\nAnnotationLink.defaultProps = {\n  isOutline: false\n};\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$4(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CircleAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.outline\n    }));\n  }\n\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.outline\n    }));\n  });\n});\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline';\nCircleAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\n\nfunction _objectSpread$5(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$5(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$5(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DotAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.symbol\n    }));\n  }\n\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.symbol\n    }));\n  });\n});\nDotAnnotationOutline.displayName = 'DotAnnotationOutline';\nDotAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\nDotAnnotationOutline.defaultProps = {\n  size: 4\n};\n\nfunction _objectSpread$6(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$6(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$6(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar RectAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: theme.annotations.outline\n    }));\n  }\n\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x - width / 2, springConfig),\n      y: spring(y - height / 2, springConfig),\n      width: spring(width, springConfig),\n      height: spring(height, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: theme.annotations.outline\n    }));\n  });\n});\nRectAnnotationOutline.displayName = 'RectAnnotationOutline';\nRectAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\nvar Annotation = memo(function (_ref) {\n  var datum = _ref.datum,\n      type = _ref.type,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      width = _ref.width,\n      height = _ref.height,\n      noteX = _ref.noteX,\n      noteY = _ref.noteY,\n      noteWidth = _ref.noteWidth,\n      noteTextOffset = _ref.noteTextOffset,\n      note = _ref.note;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  var computed = useComputedAnnotation({\n    type: type,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    x: x,\n    y: y,\n    size: size,\n    width: width,\n    height: height,\n    noteX: noteX,\n    noteY: noteY,\n    noteWidth: noteWidth,\n    noteTextOffset: noteTextOffset\n  });\n  return React.createElement(React.Fragment, null, React.createElement(AnnotationLink, {\n    points: computed.points,\n    isOutline: true\n  }), type === 'circle' && React.createElement(CircleAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'dot' && React.createElement(DotAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'rect' && React.createElement(RectAnnotationOutline, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }), React.createElement(AnnotationLink, {\n    points: computed.points\n  }), !animate && React.createElement(AnnotationNote, {\n    x: computed.text[0],\n    y: computed.text[1],\n    note: note\n  }), animate && React.createElement(Motion, {\n    style: {\n      x: spring(computed.text[0], springConfig),\n      y: spring(computed.text[1], springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(AnnotationNote, {\n      datum: datum,\n      x: interpolated.x,\n      y: interpolated.y,\n      note: note\n    });\n  }));\n});\nAnnotation.displayName = 'Annotation';\nAnnotation.propTypes = {\n  datum: PropTypes.object.isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  containerWidth: PropTypes.number.isRequired,\n  containerHeight: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number.isRequired,\n  noteTextOffset: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotation.defaultProps = {\n  noteWidth: defaultProps.noteWidth,\n  noteTextOffset: defaultProps.noteTextOffset\n};\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar drawPoints = function drawPoints(ctx, points) {\n  points.forEach(function (_ref, index) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n\n    if (index === 0) {\n      ctx.moveTo(x, y);\n    } else {\n      ctx.lineTo(x, y);\n    }\n  });\n};\n\nvar renderAnnotationsToCanvas = function renderAnnotationsToCanvas(ctx, _ref3) {\n  var annotations = _ref3.annotations,\n      theme = _ref3.theme;\n  if (annotations.length === 0) return;\n  ctx.save();\n  annotations.forEach(function (annotation) {\n    if (theme.annotations.link.outlineWidth > 0) {\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.annotations.link.outlineColor;\n      ctx.lineWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n      ctx.beginPath();\n      drawPoints(ctx, annotation.computed.points);\n      ctx.stroke();\n      ctx.lineCap = 'butt';\n    }\n\n    if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n\n    if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.symbol.outlineColor;\n      ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n\n    if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n\n    ctx.strokeStyle = theme.annotations.link.stroke;\n    ctx.lineWidth = theme.annotations.link.strokeWidth;\n    ctx.beginPath();\n    drawPoints(ctx, annotation.computed.points);\n    ctx.stroke();\n\n    if (annotation.type === 'circle') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n\n    if (annotation.type === 'dot') {\n      ctx.fillStyle = theme.annotations.symbol.fill;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n\n    if (annotation.type === 'rect') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n\n    if (typeof annotation.note === 'function') {\n      annotation.note(ctx, {\n        datum: annotation.datum,\n        x: annotation.computed.text[0],\n        y: annotation.computed.text[1],\n        theme: theme\n      });\n    } else {\n      ctx.font = \"\".concat(theme.annotations.text.fontSize, \"px \").concat(theme.annotations.text.fontFamily);\n      ctx.fillStyle = theme.annotations.text.fill;\n      ctx.strokeStyle = theme.annotations.text.outlineColor;\n      ctx.lineWidth = theme.annotations.text.outlineWidth * 2;\n\n      if (theme.annotations.text.outlineWidth > 0) {\n        ctx.lineJoin = 'round';\n        ctx.strokeText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n        ctx.lineJoin = 'miter';\n      }\n\n      ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n    }\n  });\n  ctx.restore();\n};\n\nexport { Annotation, annotationSpecPropType, bindAnnotations, computeAnnotation, defaultProps, getLinkAngle, renderAnnotationsToCanvas, useAnnotations, useComputedAnnotation, useComputedAnnotations };","map":{"version":3,"sources":["C:/Users/mesty/Lambda/Forked-Lambda-Copies/labs 19/sauti-databank-fe/node_modules/@nivo/annotations/dist/nivo-annotations.esm.js"],"names":["React","useMemo","memo","PropTypes","Motion","spring","absoluteAngleDegrees","radiansToDegrees","positionFromAngle","degreesToRadians","useTheme","useMotionConfig","SmartMotion","isPlainObject","filter","omit","annotationSpecPropType","shape","match","oneOfType","func","object","isRequired","type","oneOf","noteX","number","abs","noteY","noteWidth","noteTextOffset","note","node","offset","defaultProps","animate","motionStiffness","motionDamping","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","defaultPositionAccessor","item","x","y","bindAnnotations","_ref","items","annotations","_ref$getPosition","getPosition","getDimensions","reduce","acc","annotation","position","dimensions","push","datum","size","getLinkAngle","sourceX","sourceY","targetX","targetY","angle","Math","atan2","computeAnnotation","_ref2","width","height","_ref2$noteWidth","_ref2$noteTextOffset","computedNoteX","computedNoteY","undefined","computedX","computedY","eighth","round","textX","textY","noteLineX","noteLineY","points","text","_objectSpread$1","_defineProperty$1","useAnnotations","useComputedAnnotations","containerWidth","containerHeight","map","computed","useComputedAnnotation","_ref3","_objectSpread$2","_defineProperty$2","AnnotationNote","theme","createElement","Fragment","outlineWidth","style","strokeLinejoin","strokeWidth","stroke","outlineColor","displayName","propTypes","_objectSpread$3","_defineProperty$3","AnnotationLink","isOutline","_useMotionConfig","springConfig","link","strokeLinecap","path","slice","point","fill","d","interpolated","arrayOf","array","bool","_objectSpread$4","_defineProperty$4","CircleAnnotationOutline","outline","cx","cy","r","_objectSpread$5","_defineProperty$5","DotAnnotationOutline","symbol","_objectSpread$6","_defineProperty$6","RectAnnotationOutline","Annotation","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","err","Array","isArray","drawPoints","ctx","index","moveTo","lineTo","renderAnnotationsToCanvas","save","lineCap","strokeStyle","lineWidth","beginPath","arc","PI","rect","fillStyle","font","fontSize","fontFamily","lineJoin","strokeText","fillText","restore"],"mappings":"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","sourcesContent":["import React, { useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring } from 'react-motion';\nimport { absoluteAngleDegrees, radiansToDegrees, positionFromAngle, degreesToRadians, useTheme, useMotionConfig, SmartMotion } from '@nivo/core';\nimport isPlainObject from 'lodash/isPlainObject';\nimport filter from 'lodash/filter';\nimport omit from 'lodash/omit';\n\nvar annotationSpecPropType = PropTypes.shape({\n  match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number,\n  noteTextOffset: PropTypes.number,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  offset: PropTypes.number\n});\nvar defaultProps = {\n  noteWidth: 120,\n  noteTextOffset: 8,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 13\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar defaultPositionAccessor = function defaultPositionAccessor(item) {\n  return {\n    x: item.x,\n    y: item.y\n  };\n};\nvar bindAnnotations = function bindAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      _ref$getPosition = _ref.getPosition,\n      getPosition = _ref$getPosition === void 0 ? defaultPositionAccessor : _ref$getPosition,\n      getDimensions = _ref.getDimensions;\n  return annotations.reduce(function (acc, annotation) {\n    filter(items, annotation.match).forEach(function (item) {\n      var position = getPosition(item);\n      var dimensions = getDimensions(item, annotation.offset || 0);\n      acc.push(_objectSpread({}, omit(annotation, ['match', 'offset']), position, dimensions, {\n        datum: item,\n        size: annotation.size || dimensions.size\n      }));\n    });\n    return acc;\n  }, []);\n};\nvar getLinkAngle = function getLinkAngle(sourceX, sourceY, targetX, targetY) {\n  var angle = Math.atan2(targetY - sourceY, targetX - sourceX);\n  return absoluteAngleDegrees(radiansToDegrees(angle));\n};\nvar computeAnnotation = function computeAnnotation(_ref2) {\n  var type = _ref2.type,\n      x = _ref2.x,\n      y = _ref2.y,\n      size = _ref2.size,\n      width = _ref2.width,\n      height = _ref2.height,\n      noteX = _ref2.noteX,\n      noteY = _ref2.noteY,\n      _ref2$noteWidth = _ref2.noteWidth,\n      noteWidth = _ref2$noteWidth === void 0 ? defaultProps.noteWidth : _ref2$noteWidth,\n      _ref2$noteTextOffset = _ref2.noteTextOffset,\n      noteTextOffset = _ref2$noteTextOffset === void 0 ? defaultProps.noteTextOffset : _ref2$noteTextOffset;\n  var computedNoteX;\n  var computedNoteY;\n  if (isPlainObject(noteX)) {\n    if (noteX.abs !== undefined) {\n      computedNoteX = noteX.abs;\n    }\n  } else {\n    computedNoteX = x + noteX;\n  }\n  if (isPlainObject(noteY)) {\n    if (noteY.abs !== undefined) {\n      computedNoteY = noteY.abs;\n    }\n  } else {\n    computedNoteY = y + noteY;\n  }\n  var computedX = x;\n  var computedY = y;\n  var angle = getLinkAngle(x, y, computedNoteX, computedNoteY);\n  if (type === 'circle') {\n    var position = positionFromAngle(degreesToRadians(angle), size / 2);\n    computedX += position.x;\n    computedY += position.y;\n  }\n  if (type === 'rect') {\n    var eighth = Math.round((angle + 90) / 45) % 8;\n    if (eighth === 0) {\n      computedY -= height / 2;\n    }\n    if (eighth === 1) {\n      computedX += width / 2;\n      computedY -= height / 2;\n    }\n    if (eighth === 2) {\n      computedX += width / 2;\n    }\n    if (eighth === 3) {\n      computedX += width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 4) {\n      computedY += height / 2;\n    }\n    if (eighth === 5) {\n      computedX -= width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 6) {\n      computedX -= width / 2;\n    }\n    if (eighth === 7) {\n      computedX -= width / 2;\n      computedY -= height / 2;\n    }\n  }\n  var textX = computedNoteX;\n  var textY = computedNoteY - noteTextOffset;\n  var noteLineX = computedNoteX;\n  var noteLineY = computedNoteY;\n  if ((angle + 90) % 360 > 180) {\n    textX -= noteWidth;\n    noteLineX -= noteWidth;\n  } else {\n    noteLineX += noteWidth;\n  }\n  return {\n    points: [[computedX, computedY], [computedNoteX, computedNoteY], [noteLineX, noteLineY]],\n    text: [textX, textY],\n    angle: angle + 90\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar useAnnotations = function useAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      getPosition = _ref.getPosition,\n      getDimensions = _ref.getDimensions;\n  return useMemo(function () {\n    return bindAnnotations({\n      items: items,\n      annotations: annotations,\n      getPosition: getPosition,\n      getDimensions: getDimensions\n    });\n  }, [items, annotations, getPosition, getDimensions]);\n};\nvar useComputedAnnotations = function useComputedAnnotations(_ref2) {\n  var annotations = _ref2.annotations,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight;\n  return useMemo(function () {\n    return annotations.map(function (annotation) {\n      return _objectSpread$1({}, annotation, {\n        computed: computeAnnotation(_objectSpread$1({\n          containerWidth: containerWidth,\n          containerHeight: containerHeight\n        }, annotation))\n      });\n    });\n  }, [annotations, containerWidth, containerHeight]);\n};\nvar useComputedAnnotation = function useComputedAnnotation(_ref3) {\n  var type = _ref3.type,\n      containerWidth = _ref3.containerWidth,\n      containerHeight = _ref3.containerHeight,\n      x = _ref3.x,\n      y = _ref3.y,\n      size = _ref3.size,\n      width = _ref3.width,\n      height = _ref3.height,\n      noteX = _ref3.noteX,\n      noteY = _ref3.noteY,\n      noteWidth = _ref3.noteWidth,\n      noteTextOffset = _ref3.noteTextOffset;\n  return useMemo(function () {\n    return computeAnnotation({\n      type: type,\n      containerWidth: containerWidth,\n      containerHeight: containerHeight,\n      x: x,\n      y: y,\n      size: size,\n      width: width,\n      height: height,\n      noteX: noteX,\n      noteY: noteY,\n      noteWidth: noteWidth,\n      noteTextOffset: noteTextOffset\n    });\n  }, [type, containerWidth, containerHeight, x, y, size, width, height, noteX, noteY, noteWidth, noteTextOffset]);\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationNote = memo(function (_ref) {\n  var datum = _ref.datum,\n      x = _ref.x,\n      y = _ref.y,\n      note = _ref.note;\n  var theme = useTheme();\n  if (typeof note === 'function') {\n    return note({\n      x: x,\n      y: y,\n      datum: datum\n    });\n  }\n  return React.createElement(React.Fragment, null, theme.annotations.text.outlineWidth > 0 && React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: _objectSpread$2({}, theme.annotations.text, {\n      strokeLinejoin: 'round',\n      strokeWidth: theme.annotations.text.outlineWidth * 2,\n      stroke: theme.annotations.text.outlineColor\n    })\n  }, note), React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])\n  }, note));\n});\nAnnotationNote.displayName = 'AnnotationNote';\nAnnotationNote.propTypes = {\n  datum: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotationNote.defaultProps = {};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationLink = memo(function (_ref) {\n  var points = _ref.points,\n      isOutline = _ref.isOutline;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n    return null;\n  }\n  var style = _objectSpread$3({}, theme.annotations.link);\n  if (isOutline) {\n    style.strokeLinecap = 'square';\n    style.strokeWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n    style.stroke = theme.annotations.link.outlineColor;\n  }\n  var path = \"M\".concat(points[0][0], \",\").concat(points[0][1]);\n  points.slice(1).forEach(function (point) {\n    path = \"\".concat(path, \" L\").concat(point[0], \",\").concat(point[1]);\n  });\n  if (!animate) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: path,\n      style: style\n    });\n  }\n  return React.createElement(SmartMotion, {\n    style: function style(spring) {\n      return {\n        d: spring(path, springConfig)\n      };\n    }\n  }, function (interpolated) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: interpolated.d,\n      style: style\n    });\n  });\n});\nAnnotationLink.displayName = 'AnnotationLink';\nAnnotationLink.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.array).isRequired,\n  isOutline: PropTypes.bool.isRequired\n};\nAnnotationLink.defaultProps = {\n  isOutline: false\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar CircleAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.outline\n    }));\n  });\n});\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline';\nCircleAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$5(target, key, source[key]); }); } return target; }\nfunction _defineProperty$5(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar DotAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.symbol\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.symbol\n    }));\n  });\n});\nDotAnnotationOutline.displayName = 'DotAnnotationOutline';\nDotAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\nDotAnnotationOutline.defaultProps = {\n  size: 4\n};\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$6(target, key, source[key]); }); } return target; }\nfunction _defineProperty$6(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar RectAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x - width / 2, springConfig),\n      y: spring(y - height / 2, springConfig),\n      width: spring(width, springConfig),\n      height: spring(height, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: theme.annotations.outline\n    }));\n  });\n});\nRectAnnotationOutline.displayName = 'RectAnnotationOutline';\nRectAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nvar Annotation = memo(function (_ref) {\n  var datum = _ref.datum,\n      type = _ref.type,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      width = _ref.width,\n      height = _ref.height,\n      noteX = _ref.noteX,\n      noteY = _ref.noteY,\n      noteWidth = _ref.noteWidth,\n      noteTextOffset = _ref.noteTextOffset,\n      note = _ref.note;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var computed = useComputedAnnotation({\n    type: type,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    x: x,\n    y: y,\n    size: size,\n    width: width,\n    height: height,\n    noteX: noteX,\n    noteY: noteY,\n    noteWidth: noteWidth,\n    noteTextOffset: noteTextOffset\n  });\n  return React.createElement(React.Fragment, null, React.createElement(AnnotationLink, {\n    points: computed.points,\n    isOutline: true\n  }), type === 'circle' && React.createElement(CircleAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'dot' && React.createElement(DotAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'rect' && React.createElement(RectAnnotationOutline, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }), React.createElement(AnnotationLink, {\n    points: computed.points\n  }), !animate && React.createElement(AnnotationNote, {\n    x: computed.text[0],\n    y: computed.text[1],\n    note: note\n  }), animate && React.createElement(Motion, {\n    style: {\n      x: spring(computed.text[0], springConfig),\n      y: spring(computed.text[1], springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(AnnotationNote, {\n      datum: datum,\n      x: interpolated.x,\n      y: interpolated.y,\n      note: note\n    });\n  }));\n});\nAnnotation.displayName = 'Annotation';\nAnnotation.propTypes = {\n  datum: PropTypes.object.isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  containerWidth: PropTypes.number.isRequired,\n  containerHeight: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number.isRequired,\n  noteTextOffset: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotation.defaultProps = {\n  noteWidth: defaultProps.noteWidth,\n  noteTextOffset: defaultProps.noteTextOffset\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar drawPoints = function drawPoints(ctx, points) {\n  points.forEach(function (_ref, index) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n    if (index === 0) {\n      ctx.moveTo(x, y);\n    } else {\n      ctx.lineTo(x, y);\n    }\n  });\n};\nvar renderAnnotationsToCanvas = function renderAnnotationsToCanvas(ctx, _ref3) {\n  var annotations = _ref3.annotations,\n      theme = _ref3.theme;\n  if (annotations.length === 0) return;\n  ctx.save();\n  annotations.forEach(function (annotation) {\n    if (theme.annotations.link.outlineWidth > 0) {\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.annotations.link.outlineColor;\n      ctx.lineWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n      ctx.beginPath();\n      drawPoints(ctx, annotation.computed.points);\n      ctx.stroke();\n      ctx.lineCap = 'butt';\n    }\n    if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.symbol.outlineColor;\n      ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    ctx.strokeStyle = theme.annotations.link.stroke;\n    ctx.lineWidth = theme.annotations.link.strokeWidth;\n    ctx.beginPath();\n    drawPoints(ctx, annotation.computed.points);\n    ctx.stroke();\n    if (annotation.type === 'circle') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot') {\n      ctx.fillStyle = theme.annotations.symbol.fill;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n    if (annotation.type === 'rect') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    if (typeof annotation.note === 'function') {\n      annotation.note(ctx, {\n        datum: annotation.datum,\n        x: annotation.computed.text[0],\n        y: annotation.computed.text[1],\n        theme: theme\n      });\n    } else {\n      ctx.font = \"\".concat(theme.annotations.text.fontSize, \"px \").concat(theme.annotations.text.fontFamily);\n      ctx.fillStyle = theme.annotations.text.fill;\n      ctx.strokeStyle = theme.annotations.text.outlineColor;\n      ctx.lineWidth = theme.annotations.text.outlineWidth * 2;\n      if (theme.annotations.text.outlineWidth > 0) {\n        ctx.lineJoin = 'round';\n        ctx.strokeText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n        ctx.lineJoin = 'miter';\n      }\n      ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n    }\n  });\n  ctx.restore();\n};\n\nexport { Annotation, annotationSpecPropType, bindAnnotations, computeAnnotation, defaultProps, getLinkAngle, renderAnnotationsToCanvas, useAnnotations, useComputedAnnotation, useComputedAnnotations };\n"]},"metadata":{},"sourceType":"module"}