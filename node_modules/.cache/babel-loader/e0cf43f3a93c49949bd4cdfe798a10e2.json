{"ast":null,"code":"import React, { Fragment, Component } from 'react';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { defsPropTypes, noop, withTheme, withDimensions, withMotion, getAccessorFor, getLabelGenerator, bindDefs, Container, CartesianMarkers, SvgWrapper, getRelativeCursor, isCursorInRect, ResponsiveWrapper } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport min from 'lodash/min';\nimport max from 'lodash/max';\nimport range from 'lodash/range';\nimport { scaleBand, scaleLinear } from 'd3-scale';\nimport flattenDepth from 'lodash/flattenDepth';\nimport { stack, stackOffsetDiverging } from 'd3-shape';\nimport _uniqBy from 'lodash/uniqBy';\nimport setDisplayName from 'recompose/setDisplayName';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { inheritedColorPropType, ordinalColorsPropType, colorPropertyAccessorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip } from '@nivo/tooltip';\nimport { useAnnotations, Annotation } from '@nivo/annotations';\n\nvar getIndexedScale = function getIndexedScale(data, getIndex, range, padding) {\n  return scaleBand().rangeRound(range).domain(data.map(getIndex)).padding(padding);\n};\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar getGroupedScale = function getGroupedScale(data, keys, _minValue, _maxValue, range) {\n  var allValues = data.reduce(function (acc, entry) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(keys.map(function (k) {\n      return entry[k];\n    })));\n  }, []);\n  var maxValue = _maxValue;\n\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n\n  var minValue = _minValue;\n\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n    if (minValue > 0) minValue = 0;\n  }\n\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\n\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getGroupedScale(data, keys, minValue, maxValue, yRange);\n  var barWidth = (xScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var yRef = yScale(0);\n\n  var getY = function getY(d) {\n    return d > 0 ? yScale(d) : yRef;\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return d > 0 ? yRef - y : yScale(d) - yRef;\n  };\n\n  if (reverse) {\n    getY = function getY(d) {\n      return d < 0 ? yScale(d) : yRef;\n    };\n\n    getHeight = function getHeight(d, y) {\n      return d < 0 ? yRef - y : yScale(d) - yRef;\n    };\n  }\n\n  var bars = [];\n\n  if (barWidth > 0) {\n    keys.forEach(function (key, i) {\n      range(xScale.domain().length).forEach(function (index) {\n        var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\n        var y = getY(data[index][key]);\n        var barHeight = getHeight(data[index][key], y);\n\n        if (barWidth > 0 && barHeight > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getGroupedScale(data, keys, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var barHeight = (yScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var xRef = xScale(0);\n\n  var getX = function getX(d) {\n    return d > 0 ? xRef : xScale(d);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return d > 0 ? xScale(d) - xRef : xRef - x;\n  };\n\n  if (reverse) {\n    getX = function getX(d) {\n      return d < 0 ? xRef : xScale(d);\n    };\n\n    getWidth = function getWidth(d, x) {\n      return d < 0 ? xScale(d) - xRef : xRef - x;\n    };\n  }\n\n  var bars = [];\n\n  if (barHeight > 0) {\n    keys.forEach(function (key, i) {\n      range(yScale.domain().length).forEach(function (index) {\n        var x = getX(data[index][key]);\n        var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\n        var barWidth = getWidth(data[index][key], x);\n\n        if (barWidth > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar generateGroupedBars = function generateGroupedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalGroupedBars(options) : generateHorizontalGroupedBars(options);\n};\n\nvar getStackedScale = function getStackedScale(data, _minValue, _maxValue, range) {\n  var allValues = flattenDepth(data, 2);\n  var minValue = _minValue;\n\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n  }\n\n  var maxValue = _maxValue;\n\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\n\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getStackedScale(stackedData, minValue, maxValue, yRange);\n  var bars = [];\n  var barWidth = xScale.bandwidth();\n\n  var getY = function getY(d) {\n    return yScale(d[1]);\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return yScale(d[0]) - y;\n  };\n\n  if (reverse) {\n    getY = function getY(d) {\n      return yScale(d[0]);\n    };\n\n    getHeight = function getHeight(d, y) {\n      return yScale(d[1]) - y;\n    };\n  }\n\n  if (barWidth > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      xScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var x = xScale(getIndex(d.data));\n        var y = getY(d);\n        var barHeight = getHeight(d, y);\n\n        if (innerPadding > 0) {\n          y += innerPadding * 0.5;\n          barHeight -= innerPadding;\n        }\n\n        if (barHeight > 0) {\n          var barData = {\n            id: stackedDataItem.key,\n            value: d.data[stackedDataItem.key],\n            index: i,\n            indexValue: index,\n            data: d.data\n          };\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getStackedScale(stackedData, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var bars = [];\n  var barHeight = yScale.bandwidth();\n\n  var getX = function getX(d) {\n    return xScale(d[0]);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return xScale(d[1]) - x;\n  };\n\n  if (reverse) {\n    getX = function getX(d) {\n      return xScale(d[1]);\n    };\n\n    getWidth = function getWidth(d, y) {\n      return xScale(d[0]) - y;\n    };\n  }\n\n  if (barHeight > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      yScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var y = yScale(getIndex(d.data));\n        var barData = {\n          id: stackedDataItem.key,\n          value: d.data[stackedDataItem.key],\n          index: i,\n          indexValue: index,\n          data: d.data\n        };\n        var x = getX(d);\n        var barWidth = getWidth(d, x);\n\n        if (innerPadding > 0) {\n          x += innerPadding * 0.5;\n          barWidth -= innerPadding;\n        }\n\n        if (barWidth > 0) {\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar generateStackedBars = function generateStackedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalStackedBars(options) : generateHorizontalStackedBars(options);\n};\n\nvar getLegendDataForKeys = function getLegendDataForKeys(bars, layout, groupMode, reverse) {\n  var data = _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.id,\n      label: bar.data.id,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n\n  if (layout === 'vertical' && groupMode === 'stacked' && reverse !== true || layout === 'horizontal' && groupMode === 'stacked' && reverse === true) {\n    data.reverse();\n  }\n\n  return data;\n};\n\nvar getLegendDataForIndexes = function getLegendDataForIndexes(bars) {\n  return _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.indexValue,\n      label: bar.data.indexValue,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  });\n};\n\nvar getLegendData = function getLegendData(_ref3) {\n  var from = _ref3.from,\n      bars = _ref3.bars,\n      layout = _ref3.layout,\n      groupMode = _ref3.groupMode,\n      reverse = _ref3.reverse;\n\n  if (from === 'indexes') {\n    return getLegendDataForIndexes(bars);\n  }\n\n  return getLegendDataForKeys(bars, layout, groupMode, reverse);\n};\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar BarItem = function BarItem(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      borderRadius = _ref.borderRadius,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      labelColor = _ref.labelColor,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n\n  var handleTooltip = function handleTooltip(e) {\n    return showTooltip(tooltip, e);\n  };\n\n  var handleMouseEnter = function handleMouseEnter(e) {\n    onMouseEnter(data, e);\n    showTooltip(tooltip, e);\n  };\n\n  var handleMouseLeave = function handleMouseLeave(e) {\n    onMouseLeave(data, e);\n    hideTooltip(e);\n  };\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    rx: borderRadius,\n    ry: borderRadius,\n    fill: data.fill ? data.fill : color,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleTooltip,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick\n  }), shouldRenderLabel && React.createElement(\"text\", {\n    x: width / 2,\n    y: height / 2,\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    style: _objectSpread({}, theme.labels.text, {\n      pointerEvents: 'none',\n      fill: labelColor\n    })\n  }, label));\n};\n\nBarItem.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    indexValue: PropTypes.string.isRequired\n  }).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  label: PropTypes.node.isRequired,\n  shouldRenderLabel: PropTypes.bool.isRequired,\n  labelColor: PropTypes.string.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  tooltip: PropTypes.element.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired\n  }).isRequired\n};\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      color = _ref2.color,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(_objectSpread({\n        color: color\n      }, data), event);\n    }\n  };\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'getTooltipLabel', 'tooltipFormat'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      tooltipFormat = _ref3.tooltipFormat;\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: getTooltipLabel(data),\n      value: data.value,\n      enableChip: true,\n      color: color,\n      theme: theme,\n      format: tooltipFormat,\n      renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread({\n        color: color,\n        theme: theme\n      }, data)) : null\n    })\n  };\n}), pure);\nvar BarItem$1 = enhance(BarItem);\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar BarPropTypes = _objectSpread$1({\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getIndex: PropTypes.func.isRequired,\n  keys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'bars', 'markers', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  reverse: PropTypes.bool.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  padding: PropTypes.number.isRequired,\n  innerPadding: PropTypes.number.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.arrayOf(PropTypes.number),\n  gridYValues: PropTypes.arrayOf(PropTypes.number),\n  barComponent: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  labelSkipWidth: PropTypes.number.isRequired,\n  labelSkipHeight: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  labelLinkColor: inheritedColorPropType.isRequired,\n  getLabelLinkColor: PropTypes.func.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  colorBy: colorPropertyAccessorPropType.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n}, defsPropTypes, {\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread$1({\n    dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\n  }, LegendPropShape))).isRequired,\n  pixelRatio: PropTypes.number.isRequired\n});\n\nvar BarDefaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  padding: 0.1,\n  innerPadding: 0,\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  barComponent: BarItem$1,\n  enableLabel: true,\n  label: 'value',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelLinkColor: 'theme',\n  labelTextColor: 'theme',\n  colors: {\n    scheme: 'nivo'\n  },\n  colorBy: 'id',\n  defs: [],\n  fill: [],\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  onClick: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  legends: [],\n  annotations: [],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n};\n\nvar enhance$1 = function enhance$1(Component) {\n  return compose(defaultProps(BarDefaultProps), withTheme(), withDimensions(), withMotion(), withPropsOnChange(['colors', 'colorBy'], function (_ref) {\n    var colors = _ref.colors,\n        colorBy = _ref.colorBy;\n    return {\n      getColor: getOrdinalColorScale(colors, colorBy)\n    };\n  }), withPropsOnChange(['indexBy'], function (_ref2) {\n    var indexBy = _ref2.indexBy;\n    return {\n      getIndex: getAccessorFor(indexBy)\n    };\n  }), withPropsOnChange(['labelTextColor', 'theme'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor,\n        theme = _ref3.theme;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme)\n    };\n  }), withPropsOnChange(['labelLinkColor', 'theme'], function (_ref4) {\n    var labelLinkColor = _ref4.labelLinkColor,\n        theme = _ref4.theme;\n    return {\n      getLabelLinkColor: getInheritedColorGenerator(labelLinkColor, theme)\n    };\n  }), withPropsOnChange(['label', 'labelFormat'], function (_ref5) {\n    var label = _ref5.label,\n        labelFormat = _ref5.labelFormat;\n    return {\n      getLabel: getLabelGenerator(label, labelFormat)\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel'], function (_ref7) {\n    var tooltipLabel = _ref7.tooltipLabel;\n\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return \"\".concat(d.id, \" - \").concat(d.indexValue);\n    };\n\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n\n    return {\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar BarAnnotations = function BarAnnotations(_ref) {\n  var bars = _ref.bars,\n      annotations = _ref.annotations,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  var boundAnnotations = useAnnotations({\n    items: bars,\n    annotations: annotations,\n    getPosition: function getPosition(bar) {\n      return {\n        x: bar.x + bar.width / 2,\n        y: bar.y + bar.height / 2\n      };\n    },\n    getDimensions: function getDimensions(bar, offset) {\n      var width = bar.width + offset * 2;\n      var height = bar.height + offset * 2;\n      return {\n        width: width,\n        height: height,\n        size: Math.max(width, height)\n      };\n    }\n  });\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, _extends({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight,\n      animate: animate,\n      motionStiffness: motionStiffness,\n      motionDamping: motionDamping\n    }));\n  });\n};\n\nBarAnnotations.propTypes = {};\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n  var style = _ref.style;\n  return {\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val\n  };\n};\n\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n  var style = _ref2.style;\n  return {\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0\n  };\n};\n\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n  return function (_ref3) {\n    var style = _ref3.style;\n    return {\n      x: style.x,\n      y: style.y,\n      width: spring(0, springConfig),\n      height: style.height\n    };\n  };\n};\n\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n  return function (_ref4) {\n    var style = _ref4.style;\n    return {\n      x: style.x,\n      y: spring(style.y.val + style.height.val, springConfig),\n      width: style.width,\n      height: spring(0, springConfig)\n    };\n  };\n};\n\nvar Bar = function Bar(props) {\n  var data = props.data,\n      getIndex = props.getIndex,\n      keys = props.keys,\n      groupMode = props.groupMode,\n      layout = props.layout,\n      reverse = props.reverse,\n      minValue = props.minValue,\n      maxValue = props.maxValue,\n      margin = props.margin,\n      width = props.width,\n      height = props.height,\n      outerWidth = props.outerWidth,\n      outerHeight = props.outerHeight,\n      padding = props.padding,\n      innerPadding = props.innerPadding,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      layers = props.layers,\n      barComponent = props.barComponent,\n      enableLabel = props.enableLabel,\n      getLabel = props.getLabel,\n      labelSkipWidth = props.labelSkipWidth,\n      labelSkipHeight = props.labelSkipHeight,\n      getLabelTextColor = props.getLabelTextColor,\n      markers = props.markers,\n      theme = props.theme,\n      getColor = props.getColor,\n      defs = props.defs,\n      fill = props.fill,\n      borderRadius = props.borderRadius,\n      borderWidth = props.borderWidth,\n      getBorderColor = props.getBorderColor,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      getTooltipLabel = props.getTooltipLabel,\n      tooltipFormat = props.tooltipFormat,\n      tooltip = props.tooltip,\n      onClick = props.onClick,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      legends = props.legends,\n      animate = props.animate,\n      motionStiffness = props.motionStiffness,\n      motionDamping = props.motionDamping;\n  var options = {\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: width,\n    height: height,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding\n  };\n  var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var springConfig = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n  var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n\n  var shouldRenderLabel = function shouldRenderLabel(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  };\n\n  var boundDefs = bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionStiffness: motionStiffness,\n    motionDamping: motionDamping\n  }, function (_ref6) {\n    var showTooltip = _ref6.showTooltip,\n        hideTooltip = _ref6.hideTooltip;\n    var commonProps = {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      tooltipFormat: tooltipFormat,\n      tooltip: tooltip\n    };\n    var bars;\n\n    if (animate === true) {\n      bars = React.createElement(TransitionMotion, {\n        key: \"bars\",\n        willEnter: willEnter,\n        willLeave: willLeave,\n        styles: result.bars.map(function (bar) {\n          return {\n            key: bar.key,\n            data: bar,\n            style: {\n              x: spring(bar.x, springConfig),\n              y: spring(bar.y, springConfig),\n              width: spring(bar.width, springConfig),\n              height: spring(bar.height, springConfig)\n            }\n          };\n        })\n      }, function (interpolatedStyles) {\n        return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref7) {\n          var key = _ref7.key,\n              style = _ref7.style,\n              bar = _ref7.data;\n\n          var baseProps = _objectSpread$2({}, bar, style);\n\n          return React.createElement(barComponent, _objectSpread$2({\n            key: key\n          }, baseProps, commonProps, {\n            shouldRenderLabel: shouldRenderLabel(baseProps),\n            width: Math.max(style.width, 0),\n            height: Math.max(style.height, 0),\n            label: getLabel(bar.data),\n            labelColor: getLabelTextColor(baseProps, theme),\n            borderColor: getBorderColor(baseProps),\n            theme: theme\n          }));\n        }));\n      });\n    } else {\n      bars = result.bars.map(function (d) {\n        return React.createElement(barComponent, _objectSpread$2({\n          key: d.key\n        }, d, commonProps, {\n          label: getLabel(d.data),\n          shouldRenderLabel: shouldRenderLabel(d),\n          labelColor: getLabelTextColor(d, theme),\n          borderColor: getBorderColor(d),\n          theme: theme\n        }));\n      });\n    }\n\n    var layerById = {\n      grid: React.createElement(Grid, {\n        key: \"grid\",\n        width: width,\n        height: height,\n        xScale: enableGridX ? result.xScale : null,\n        yScale: enableGridY ? result.yScale : null,\n        xValues: gridXValues,\n        yValues: gridYValues\n      }),\n      axes: React.createElement(Axes, {\n        key: \"axes\",\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft\n      }),\n      bars: bars,\n      markers: React.createElement(CartesianMarkers, {\n        key: \"markers\",\n        markers: markers,\n        width: width,\n        height: height,\n        xScale: result.xScale,\n        yScale: result.yScale,\n        theme: theme\n      }),\n      legends: legends.map(function (legend, i) {\n        var legendData = getLegendData({\n          from: legend.dataFrom,\n          bars: result.bars,\n          layout: layout,\n          groupMode: groupMode,\n          reverse: reverse\n        });\n        if (legendData === undefined) return null;\n        return React.createElement(BoxLegendSvg, _extends$1({\n          key: i\n        }, legend, {\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData,\n          theme: theme\n        }));\n      }),\n      annotations: React.createElement(BarAnnotations, _extends$1({\n        key: \"annotations\",\n        innerWidth: width,\n        innerHeight: height,\n        bars: result.bars,\n        annotations: annotations\n      }, motionProps))\n    };\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme\n    }, layers.map(function (layer, i) {\n      if (typeof layer === 'function') {\n        return React.createElement(Fragment, {\n          key: i\n        }, layer(_objectSpread$2({}, props, result)));\n      }\n\n      return layerById[layer];\n    }));\n  });\n};\n\nBar.propTypes = BarPropTypes;\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\n\nvar BarCanvas = function (_Component) {\n  _inherits(BarCanvas, _Component);\n\n  function BarCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BarCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BarCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseHover\", function (showTooltip, hideTooltip) {\n      return function (event) {\n        if (!_this.bars) return;\n        var _this$props = _this.props,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            tooltip = _this$props.tooltip,\n            getTooltipLabel = _this$props.getTooltipLabel,\n            tooltipFormat = _this$props.tooltipFormat;\n\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n\n        var bar = findNodeUnderCursor(_this.bars, margin, x, y);\n\n        if (bar !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: getTooltipLabel(bar.data),\n            value: bar.data.value,\n            enableChip: true,\n            color: bar.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread$3({\n              color: bar.color\n            }, bar.data)) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    });\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseLeave\", function (hideTooltip) {\n      return function () {\n        hideTooltip();\n      };\n    });\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      if (!_this.bars) return;\n      var _this$props2 = _this.props,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick;\n\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n\n      var node = findNodeUnderCursor(_this.bars, margin, x, y);\n      if (node !== undefined) onClick(node.data, event);\n    });\n\n    return _this;\n  }\n\n  _createClass(BarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n\n      var data = props.data,\n          keys = props.keys,\n          getIndex = props.getIndex,\n          minValue = props.minValue,\n          maxValue = props.maxValue,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          layout = props.layout,\n          reverse = props.reverse,\n          groupMode = props.groupMode,\n          padding = props.padding,\n          innerPadding = props.innerPadding,\n          axisTop = props.axisTop,\n          axisRight = props.axisRight,\n          axisBottom = props.axisBottom,\n          axisLeft = props.axisLeft,\n          theme = props.theme,\n          getColor = props.getColor,\n          borderWidth = props.borderWidth,\n          getBorderColor = props.getBorderColor,\n          legends = props.legends,\n          enableGridX = props.enableGridX,\n          gridXValues = props.gridXValues,\n          enableGridY = props.enableGridY,\n          gridYValues = props.gridYValues;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      var options = {\n        layout: layout,\n        reverse: reverse,\n        data: data,\n        getIndex: getIndex,\n        keys: keys,\n        minValue: minValue,\n        maxValue: maxValue,\n        width: width,\n        height: height,\n        getColor: getColor,\n        padding: padding,\n        innerPadding: innerPadding\n      };\n      var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n      this.bars = result.bars;\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n\n      if (theme.grid.line.strokeWidth > 0) {\n        this.ctx.lineWidth = theme.grid.line.strokeWidth;\n        this.ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n\n      this.ctx.strokeStyle = '#dddddd';\n\n      var legendDataForKeys = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.id,\n          label: bar.data.id,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }).reverse(), function (_ref) {\n        var id = _ref.id;\n        return id;\n      });\n\n      var legendDataForIndexes = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.indexValue,\n          label: bar.data.indexValue,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }), function (_ref2) {\n        var id = _ref2.id;\n        return id;\n      });\n\n      legends.forEach(function (legend) {\n        var legendData;\n\n        if (legend.dataFrom === 'keys') {\n          legendData = legendDataForKeys;\n        } else if (legend.dataFrom === 'indexes') {\n          legendData = legendDataForIndexes;\n        }\n\n        if (legendData === undefined) return null;\n        renderLegendToCanvas(_this2.ctx, _objectSpread$3({}, legend, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          itemTextColor: '#999',\n          symbolSize: 16\n        }));\n      });\n      renderAxesToCanvas(this.ctx, {\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft,\n        theme: theme\n      });\n      result.bars.forEach(function (bar) {\n        var x = bar.x,\n            y = bar.y,\n            color = bar.color,\n            width = bar.width,\n            height = bar.height;\n        _this2.ctx.fillStyle = color;\n\n        if (borderWidth > 0) {\n          _this2.ctx.strokeStyle = getBorderColor(bar);\n          _this2.ctx.lineWidth = borderWidth;\n        }\n\n        _this2.ctx.beginPath();\n\n        _this2.ctx.rect(x, y, width, height);\n\n        _this2.ctx.fill();\n\n        if (borderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme;\n      return React.createElement(Container, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref3) {\n        var showTooltip = _ref3.showTooltip,\n            hideTooltip = _ref3.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n\n  return BarCanvas;\n}(Component);\n\nBarCanvas.propTypes = BarPropTypes;\nvar BarCanvas$1 = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Bar$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(BarCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Bar$1 as Bar, BarCanvas$1 as BarCanvas, BarDefaultProps, BarPropTypes, ResponsiveBar, ResponsiveBarCanvas };","map":{"version":3,"sources":["C:/Users/mesty/Lambda/Forked-Lambda-Copies/labs 19/sauti-databank-fe/node_modules/@nivo/bar/dist/nivo-bar.esm.js"],"names":["React","Fragment","Component","TransitionMotion","spring","defsPropTypes","noop","withTheme","withDimensions","withMotion","getAccessorFor","getLabelGenerator","bindDefs","Container","CartesianMarkers","SvgWrapper","getRelativeCursor","isCursorInRect","ResponsiveWrapper","axisPropType","Grid","Axes","renderGridLinesToCanvas","renderAxesToCanvas","LegendPropShape","BoxLegendSvg","renderLegendToCanvas","min","max","range","scaleBand","scaleLinear","flattenDepth","stack","stackOffsetDiverging","_uniqBy","setDisplayName","compose","defaultProps","withPropsOnChange","pure","inheritedColorPropType","ordinalColorsPropType","colorPropertyAccessorPropType","getOrdinalColorScale","getInheritedColorGenerator","PropTypes","BasicTooltip","useAnnotations","Annotation","getIndexedScale","data","getIndex","padding","rangeRound","domain","map","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","getGroupedScale","keys","_minValue","_maxValue","allValues","reduce","acc","entry","concat","k","maxValue","minValue","generateVerticalGroupedBars","_ref","reverse","width","height","getColor","_ref$padding","_ref$innerPadding","innerPadding","xScale","yRange","yScale","barWidth","bandwidth","yRef","getY","d","getHeight","y","bars","forEach","key","index","x","barHeight","barData","id","value","indexValue","push","color","generateHorizontalGroupedBars","_ref2","_ref2$padding","_ref2$innerPadding","xRange","xRef","getX","getWidth","generateGroupedBars","options","layout","getStackedScale","generateVerticalStackedBars","stackedData","offset","stackedDataItem","generateHorizontalStackedBars","generateStackedBars","getLegendDataForKeys","groupMode","bar","label","fill","getLegendDataForIndexes","getLegendData","_ref3","_objectSpread","target","arguments","source","ownKeys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","_defineProperty","obj","defineProperty","configurable","writable","BarItem","borderRadius","borderWidth","borderColor","shouldRenderLabel","labelColor","showTooltip","hideTooltip","onClick","onMouseEnter","onMouseLeave","tooltip","theme","handleTooltip","e","handleMouseEnter","handleMouseLeave","createElement","transform","rx","ry","strokeWidth","stroke","onMouseMove","textAnchor","dominantBaseline","style","labels","text","pointerEvents","propTypes","shape","string","isRequired","number","node","bool","func","getTooltipLabel","tooltipFormat","oneOfType","element","enhance","_onClick","event","enableChip","format","renderContent","bind","BarItem$1","_objectSpread$1","_defineProperty$1","BarPropTypes","arrayOf","object","indexBy","layers","oneOf","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","gridXValues","gridYValues","barComponent","enableLabel","labelFormat","getLabel","labelSkipWidth","labelSkipHeight","labelTextColor","getLabelTextColor","labelLinkColor","getLabelLinkColor","colors","colorBy","getBorderColor","isInteractive","tooltipLabel","legends","dataFrom","pixelRatio","BarDefaultProps","scheme","defs","annotations","global","window","devicePixelRatio","enhance$1","_ref4","_ref5","_ref6","_ref7","_extends","assign","hasOwnProperty","apply","BarAnnotations","animate","motionStiffness","motionDamping","boundAnnotations","items","getPosition","getDimensions","size","Math","annotation","containerWidth","innerWidth","containerHeight","innerHeight","_extends$1","_objectSpread$2","_defineProperty$2","barWillEnterHorizontal","val","barWillEnterVertical","barWillLeaveHorizontal","springConfig","barWillLeaveVertical","Bar","props","margin","outerWidth","outerHeight","markers","result","motionProps","damping","stiffness","willEnter","willLeave","boundDefs","dataKey","targetKey","commonProps","styles","interpolatedStyles","baseProps","layerById","grid","xValues","yValues","axes","top","right","bottom","left","legend","legendData","undefined","layer","Bar$1","_typeof","constructor","_objectSpread$3","_defineProperty$3","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","next","done","err","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","findNodeUnderCursor","nodes","find","BarCanvas","_Component","_getPrototypeOf2","_this","_len","args","_key","_this$props","_getRelativeCursor","surface","_getRelativeCursor2","_this$props2","_getRelativeCursor3","_getRelativeCursor4","componentDidMount","ctx","getContext","draw","shouldComponentUpdate","componentDidUpdate","_this2","scale","fillStyle","background","fillRect","translate","line","lineWidth","strokeStyle","axis","values","legendDataForKeys","legendDataForIndexes","itemTextColor","symbolSize","beginPath","rect","render","_this3","_this$props3","ref","handleMouseHover","handleClick","BarCanvas$1","_extends$2","ResponsiveBar","_extends$3","ResponsiveBarCanvas"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { defsPropTypes, noop, withTheme, withDimensions, withMotion, getAccessorFor, getLabelGenerator, bindDefs, Container, CartesianMarkers, SvgWrapper, getRelativeCursor, isCursorInRect, ResponsiveWrapper } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport min from 'lodash/min';\nimport max from 'lodash/max';\nimport range from 'lodash/range';\nimport { scaleBand, scaleLinear } from 'd3-scale';\nimport flattenDepth from 'lodash/flattenDepth';\nimport { stack, stackOffsetDiverging } from 'd3-shape';\nimport _uniqBy from 'lodash/uniqBy';\nimport setDisplayName from 'recompose/setDisplayName';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { inheritedColorPropType, ordinalColorsPropType, colorPropertyAccessorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip } from '@nivo/tooltip';\nimport { useAnnotations, Annotation } from '@nivo/annotations';\n\nvar getIndexedScale = function getIndexedScale(data, getIndex, range, padding) {\n  return scaleBand().rangeRound(range).domain(data.map(getIndex)).padding(padding);\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar getGroupedScale = function getGroupedScale(data, keys, _minValue, _maxValue, range) {\n  var allValues = data.reduce(function (acc, entry) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(keys.map(function (k) {\n      return entry[k];\n    })));\n  }, []);\n  var maxValue = _maxValue;\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n  var minValue = _minValue;\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n    if (minValue > 0) minValue = 0;\n  }\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getGroupedScale(data, keys, minValue, maxValue, yRange);\n  var barWidth = (xScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var yRef = yScale(0);\n  var getY = function getY(d) {\n    return d > 0 ? yScale(d) : yRef;\n  };\n  var getHeight = function getHeight(d, y) {\n    return d > 0 ? yRef - y : yScale(d) - yRef;\n  };\n  if (reverse) {\n    getY = function getY(d) {\n      return d < 0 ? yScale(d) : yRef;\n    };\n    getHeight = function getHeight(d, y) {\n      return d < 0 ? yRef - y : yScale(d) - yRef;\n    };\n  }\n  var bars = [];\n  if (barWidth > 0) {\n    keys.forEach(function (key, i) {\n      range(xScale.domain().length).forEach(function (index) {\n        var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\n        var y = getY(data[index][key]);\n        var barHeight = getHeight(data[index][key], y);\n        if (barWidth > 0 && barHeight > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getGroupedScale(data, keys, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var barHeight = (yScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var xRef = xScale(0);\n  var getX = function getX(d) {\n    return d > 0 ? xRef : xScale(d);\n  };\n  var getWidth = function getWidth(d, x) {\n    return d > 0 ? xScale(d) - xRef : xRef - x;\n  };\n  if (reverse) {\n    getX = function getX(d) {\n      return d < 0 ? xRef : xScale(d);\n    };\n    getWidth = function getWidth(d, x) {\n      return d < 0 ? xScale(d) - xRef : xRef - x;\n    };\n  }\n  var bars = [];\n  if (barHeight > 0) {\n    keys.forEach(function (key, i) {\n      range(yScale.domain().length).forEach(function (index) {\n        var x = getX(data[index][key]);\n        var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\n        var barWidth = getWidth(data[index][key], x);\n        if (barWidth > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateGroupedBars = function generateGroupedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalGroupedBars(options) : generateHorizontalGroupedBars(options);\n};\n\nvar getStackedScale = function getStackedScale(data, _minValue, _maxValue, range) {\n  var allValues = flattenDepth(data, 2);\n  var minValue = _minValue;\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n  }\n  var maxValue = _maxValue;\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getStackedScale(stackedData, minValue, maxValue, yRange);\n  var bars = [];\n  var barWidth = xScale.bandwidth();\n  var getY = function getY(d) {\n    return yScale(d[1]);\n  };\n  var getHeight = function getHeight(d, y) {\n    return yScale(d[0]) - y;\n  };\n  if (reverse) {\n    getY = function getY(d) {\n      return yScale(d[0]);\n    };\n    getHeight = function getHeight(d, y) {\n      return yScale(d[1]) - y;\n    };\n  }\n  if (barWidth > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      xScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var x = xScale(getIndex(d.data));\n        var y = getY(d);\n        var barHeight = getHeight(d, y);\n        if (innerPadding > 0) {\n          y += innerPadding * 0.5;\n          barHeight -= innerPadding;\n        }\n        if (barHeight > 0) {\n          var barData = {\n            id: stackedDataItem.key,\n            value: d.data[stackedDataItem.key],\n            index: i,\n            indexValue: index,\n            data: d.data\n          };\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getStackedScale(stackedData, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var bars = [];\n  var barHeight = yScale.bandwidth();\n  var getX = function getX(d) {\n    return xScale(d[0]);\n  };\n  var getWidth = function getWidth(d, x) {\n    return xScale(d[1]) - x;\n  };\n  if (reverse) {\n    getX = function getX(d) {\n      return xScale(d[1]);\n    };\n    getWidth = function getWidth(d, y) {\n      return xScale(d[0]) - y;\n    };\n  }\n  if (barHeight > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      yScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var y = yScale(getIndex(d.data));\n        var barData = {\n          id: stackedDataItem.key,\n          value: d.data[stackedDataItem.key],\n          index: i,\n          indexValue: index,\n          data: d.data\n        };\n        var x = getX(d);\n        var barWidth = getWidth(d, x);\n        if (innerPadding > 0) {\n          x += innerPadding * 0.5;\n          barWidth -= innerPadding;\n        }\n        if (barWidth > 0) {\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateStackedBars = function generateStackedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalStackedBars(options) : generateHorizontalStackedBars(options);\n};\n\nvar getLegendDataForKeys = function getLegendDataForKeys(bars, layout, groupMode, reverse) {\n  var data = _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.id,\n      label: bar.data.id,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n  if (layout === 'vertical' && groupMode === 'stacked' && reverse !== true || layout === 'horizontal' && groupMode === 'stacked' && reverse === true) {\n    data.reverse();\n  }\n  return data;\n};\nvar getLegendDataForIndexes = function getLegendDataForIndexes(bars) {\n  return _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.indexValue,\n      label: bar.data.indexValue,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  });\n};\nvar getLegendData = function getLegendData(_ref3) {\n  var from = _ref3.from,\n      bars = _ref3.bars,\n      layout = _ref3.layout,\n      groupMode = _ref3.groupMode,\n      reverse = _ref3.reverse;\n  if (from === 'indexes') {\n    return getLegendDataForIndexes(bars);\n  }\n  return getLegendDataForKeys(bars, layout, groupMode, reverse);\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar BarItem = function BarItem(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      borderRadius = _ref.borderRadius,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      labelColor = _ref.labelColor,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n  var handleTooltip = function handleTooltip(e) {\n    return showTooltip(tooltip, e);\n  };\n  var handleMouseEnter = function handleMouseEnter(e) {\n    onMouseEnter(data, e);\n    showTooltip(tooltip, e);\n  };\n  var handleMouseLeave = function handleMouseLeave(e) {\n    onMouseLeave(data, e);\n    hideTooltip(e);\n  };\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    rx: borderRadius,\n    ry: borderRadius,\n    fill: data.fill ? data.fill : color,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleTooltip,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick\n  }), shouldRenderLabel && React.createElement(\"text\", {\n    x: width / 2,\n    y: height / 2,\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    style: _objectSpread({}, theme.labels.text, {\n      pointerEvents: 'none',\n      fill: labelColor\n    })\n  }, label));\n};\nBarItem.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    indexValue: PropTypes.string.isRequired\n  }).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  label: PropTypes.node.isRequired,\n  shouldRenderLabel: PropTypes.bool.isRequired,\n  labelColor: PropTypes.string.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  tooltip: PropTypes.element.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired\n  }).isRequired\n};\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      color = _ref2.color,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(_objectSpread({\n        color: color\n      }, data), event);\n    }\n  };\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'getTooltipLabel', 'tooltipFormat'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      tooltipFormat = _ref3.tooltipFormat;\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: getTooltipLabel(data),\n      value: data.value,\n      enableChip: true,\n      color: color,\n      theme: theme,\n      format: tooltipFormat,\n      renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread({\n        color: color,\n        theme: theme\n      }, data)) : null\n    })\n  };\n}), pure);\nvar BarItem$1 = enhance(BarItem);\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar BarPropTypes = _objectSpread$1({\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getIndex: PropTypes.func.isRequired,\n  keys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'bars', 'markers', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  reverse: PropTypes.bool.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  padding: PropTypes.number.isRequired,\n  innerPadding: PropTypes.number.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.arrayOf(PropTypes.number),\n  gridYValues: PropTypes.arrayOf(PropTypes.number),\n  barComponent: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  labelSkipWidth: PropTypes.number.isRequired,\n  labelSkipHeight: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  labelLinkColor: inheritedColorPropType.isRequired,\n  getLabelLinkColor: PropTypes.func.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  colorBy: colorPropertyAccessorPropType.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n}, defsPropTypes, {\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread$1({\n    dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\n  }, LegendPropShape))).isRequired,\n  pixelRatio: PropTypes.number.isRequired\n});\nvar BarDefaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  padding: 0.1,\n  innerPadding: 0,\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  barComponent: BarItem$1,\n  enableLabel: true,\n  label: 'value',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelLinkColor: 'theme',\n  labelTextColor: 'theme',\n  colors: {\n    scheme: 'nivo'\n  },\n  colorBy: 'id',\n  defs: [],\n  fill: [],\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  onClick: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  legends: [],\n  annotations: [],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n};\n\nvar enhance$1 = (function (Component) {\n  return compose(defaultProps(BarDefaultProps), withTheme(), withDimensions(), withMotion(), withPropsOnChange(['colors', 'colorBy'], function (_ref) {\n    var colors = _ref.colors,\n        colorBy = _ref.colorBy;\n    return {\n      getColor: getOrdinalColorScale(colors, colorBy)\n    };\n  }), withPropsOnChange(['indexBy'], function (_ref2) {\n    var indexBy = _ref2.indexBy;\n    return {\n      getIndex: getAccessorFor(indexBy)\n    };\n  }), withPropsOnChange(['labelTextColor', 'theme'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor,\n        theme = _ref3.theme;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme)\n    };\n  }), withPropsOnChange(['labelLinkColor', 'theme'], function (_ref4) {\n    var labelLinkColor = _ref4.labelLinkColor,\n        theme = _ref4.theme;\n    return {\n      getLabelLinkColor: getInheritedColorGenerator(labelLinkColor, theme)\n    };\n  }), withPropsOnChange(['label', 'labelFormat'], function (_ref5) {\n    var label = _ref5.label,\n        labelFormat = _ref5.labelFormat;\n    return {\n      getLabel: getLabelGenerator(label, labelFormat)\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel'], function (_ref7) {\n    var tooltipLabel = _ref7.tooltipLabel;\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return \"\".concat(d.id, \" - \").concat(d.indexValue);\n    };\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n    return {\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n});\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar BarAnnotations = function BarAnnotations(_ref) {\n  var bars = _ref.bars,\n      annotations = _ref.annotations,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  var boundAnnotations = useAnnotations({\n    items: bars,\n    annotations: annotations,\n    getPosition: function getPosition(bar) {\n      return {\n        x: bar.x + bar.width / 2,\n        y: bar.y + bar.height / 2\n      };\n    },\n    getDimensions: function getDimensions(bar, offset) {\n      var width = bar.width + offset * 2;\n      var height = bar.height + offset * 2;\n      return {\n        width: width,\n        height: height,\n        size: Math.max(width, height)\n      };\n    }\n  });\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, _extends({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight,\n      animate: animate,\n      motionStiffness: motionStiffness,\n      motionDamping: motionDamping\n    }));\n  });\n};\nBarAnnotations.propTypes = {};\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n  var style = _ref.style;\n  return {\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val\n  };\n};\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n  var style = _ref2.style;\n  return {\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0\n  };\n};\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n  return function (_ref3) {\n    var style = _ref3.style;\n    return {\n      x: style.x,\n      y: style.y,\n      width: spring(0, springConfig),\n      height: style.height\n    };\n  };\n};\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n  return function (_ref4) {\n    var style = _ref4.style;\n    return {\n      x: style.x,\n      y: spring(style.y.val + style.height.val, springConfig),\n      width: style.width,\n      height: spring(0, springConfig)\n    };\n  };\n};\nvar Bar = function Bar(props) {\n  var data = props.data,\n      getIndex = props.getIndex,\n      keys = props.keys,\n      groupMode = props.groupMode,\n      layout = props.layout,\n      reverse = props.reverse,\n      minValue = props.minValue,\n      maxValue = props.maxValue,\n      margin = props.margin,\n      width = props.width,\n      height = props.height,\n      outerWidth = props.outerWidth,\n      outerHeight = props.outerHeight,\n      padding = props.padding,\n      innerPadding = props.innerPadding,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      layers = props.layers,\n      barComponent = props.barComponent,\n      enableLabel = props.enableLabel,\n      getLabel = props.getLabel,\n      labelSkipWidth = props.labelSkipWidth,\n      labelSkipHeight = props.labelSkipHeight,\n      getLabelTextColor = props.getLabelTextColor,\n      markers = props.markers,\n      theme = props.theme,\n      getColor = props.getColor,\n      defs = props.defs,\n      fill = props.fill,\n      borderRadius = props.borderRadius,\n      borderWidth = props.borderWidth,\n      getBorderColor = props.getBorderColor,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      getTooltipLabel = props.getTooltipLabel,\n      tooltipFormat = props.tooltipFormat,\n      tooltip = props.tooltip,\n      onClick = props.onClick,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      legends = props.legends,\n      animate = props.animate,\n      motionStiffness = props.motionStiffness,\n      motionDamping = props.motionDamping;\n  var options = {\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: width,\n    height: height,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding\n  };\n  var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var springConfig = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n  var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n  var shouldRenderLabel = function shouldRenderLabel(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  };\n  var boundDefs = bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionStiffness: motionStiffness,\n    motionDamping: motionDamping\n  }, function (_ref6) {\n    var showTooltip = _ref6.showTooltip,\n        hideTooltip = _ref6.hideTooltip;\n    var commonProps = {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      tooltipFormat: tooltipFormat,\n      tooltip: tooltip\n    };\n    var bars;\n    if (animate === true) {\n      bars = React.createElement(TransitionMotion, {\n        key: \"bars\",\n        willEnter: willEnter,\n        willLeave: willLeave,\n        styles: result.bars.map(function (bar) {\n          return {\n            key: bar.key,\n            data: bar,\n            style: {\n              x: spring(bar.x, springConfig),\n              y: spring(bar.y, springConfig),\n              width: spring(bar.width, springConfig),\n              height: spring(bar.height, springConfig)\n            }\n          };\n        })\n      }, function (interpolatedStyles) {\n        return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref7) {\n          var key = _ref7.key,\n              style = _ref7.style,\n              bar = _ref7.data;\n          var baseProps = _objectSpread$2({}, bar, style);\n          return React.createElement(barComponent, _objectSpread$2({\n            key: key\n          }, baseProps, commonProps, {\n            shouldRenderLabel: shouldRenderLabel(baseProps),\n            width: Math.max(style.width, 0),\n            height: Math.max(style.height, 0),\n            label: getLabel(bar.data),\n            labelColor: getLabelTextColor(baseProps, theme),\n            borderColor: getBorderColor(baseProps),\n            theme: theme\n          }));\n        }));\n      });\n    } else {\n      bars = result.bars.map(function (d) {\n        return React.createElement(barComponent, _objectSpread$2({\n          key: d.key\n        }, d, commonProps, {\n          label: getLabel(d.data),\n          shouldRenderLabel: shouldRenderLabel(d),\n          labelColor: getLabelTextColor(d, theme),\n          borderColor: getBorderColor(d),\n          theme: theme\n        }));\n      });\n    }\n    var layerById = {\n      grid: React.createElement(Grid, {\n        key: \"grid\",\n        width: width,\n        height: height,\n        xScale: enableGridX ? result.xScale : null,\n        yScale: enableGridY ? result.yScale : null,\n        xValues: gridXValues,\n        yValues: gridYValues\n      }),\n      axes: React.createElement(Axes, {\n        key: \"axes\",\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft\n      }),\n      bars: bars,\n      markers: React.createElement(CartesianMarkers, {\n        key: \"markers\",\n        markers: markers,\n        width: width,\n        height: height,\n        xScale: result.xScale,\n        yScale: result.yScale,\n        theme: theme\n      }),\n      legends: legends.map(function (legend, i) {\n        var legendData = getLegendData({\n          from: legend.dataFrom,\n          bars: result.bars,\n          layout: layout,\n          groupMode: groupMode,\n          reverse: reverse\n        });\n        if (legendData === undefined) return null;\n        return React.createElement(BoxLegendSvg, _extends$1({\n          key: i\n        }, legend, {\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData,\n          theme: theme\n        }));\n      }),\n      annotations: React.createElement(BarAnnotations, _extends$1({\n        key: \"annotations\",\n        innerWidth: width,\n        innerHeight: height,\n        bars: result.bars,\n        annotations: annotations\n      }, motionProps))\n    };\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme\n    }, layers.map(function (layer, i) {\n      if (typeof layer === 'function') {\n        return React.createElement(Fragment, {\n          key: i\n        }, layer(_objectSpread$2({}, props, result)));\n      }\n      return layerById[layer];\n    }));\n  });\n};\nBar.propTypes = BarPropTypes;\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\nvar BarCanvas =\nfunction (_Component) {\n  _inherits(BarCanvas, _Component);\n  function BarCanvas() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, BarCanvas);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BarCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseHover\", function (showTooltip, hideTooltip) {\n      return function (event) {\n        if (!_this.bars) return;\n        var _this$props = _this.props,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            tooltip = _this$props.tooltip,\n            getTooltipLabel = _this$props.getTooltipLabel,\n            tooltipFormat = _this$props.tooltipFormat;\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n        var bar = findNodeUnderCursor(_this.bars, margin, x, y);\n        if (bar !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: getTooltipLabel(bar.data),\n            value: bar.data.value,\n            enableChip: true,\n            color: bar.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread$3({\n              color: bar.color\n            }, bar.data)) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseLeave\", function (hideTooltip) {\n      return function () {\n        hideTooltip();\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      if (!_this.bars) return;\n      var _this$props2 = _this.props,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick;\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n      var node = findNodeUnderCursor(_this.bars, margin, x, y);\n      if (node !== undefined) onClick(node.data, event);\n    });\n    return _this;\n  }\n  _createClass(BarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n      var data = props.data,\n          keys = props.keys,\n          getIndex = props.getIndex,\n          minValue = props.minValue,\n          maxValue = props.maxValue,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          layout = props.layout,\n          reverse = props.reverse,\n          groupMode = props.groupMode,\n          padding = props.padding,\n          innerPadding = props.innerPadding,\n          axisTop = props.axisTop,\n          axisRight = props.axisRight,\n          axisBottom = props.axisBottom,\n          axisLeft = props.axisLeft,\n          theme = props.theme,\n          getColor = props.getColor,\n          borderWidth = props.borderWidth,\n          getBorderColor = props.getBorderColor,\n          legends = props.legends,\n          enableGridX = props.enableGridX,\n          gridXValues = props.gridXValues,\n          enableGridY = props.enableGridY,\n          gridYValues = props.gridYValues;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      var options = {\n        layout: layout,\n        reverse: reverse,\n        data: data,\n        getIndex: getIndex,\n        keys: keys,\n        minValue: minValue,\n        maxValue: maxValue,\n        width: width,\n        height: height,\n        getColor: getColor,\n        padding: padding,\n        innerPadding: innerPadding\n      };\n      var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n      this.bars = result.bars;\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n      if (theme.grid.line.strokeWidth > 0) {\n        this.ctx.lineWidth = theme.grid.line.strokeWidth;\n        this.ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n      this.ctx.strokeStyle = '#dddddd';\n      var legendDataForKeys = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.id,\n          label: bar.data.id,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }).reverse(), function (_ref) {\n        var id = _ref.id;\n        return id;\n      });\n      var legendDataForIndexes = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.indexValue,\n          label: bar.data.indexValue,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }), function (_ref2) {\n        var id = _ref2.id;\n        return id;\n      });\n      legends.forEach(function (legend) {\n        var legendData;\n        if (legend.dataFrom === 'keys') {\n          legendData = legendDataForKeys;\n        } else if (legend.dataFrom === 'indexes') {\n          legendData = legendDataForIndexes;\n        }\n        if (legendData === undefined) return null;\n        renderLegendToCanvas(_this2.ctx, _objectSpread$3({}, legend, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          itemTextColor: '#999',\n          symbolSize: 16\n        }));\n      });\n      renderAxesToCanvas(this.ctx, {\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft,\n        theme: theme\n      });\n      result.bars.forEach(function (bar) {\n        var x = bar.x,\n            y = bar.y,\n            color = bar.color,\n            width = bar.width,\n            height = bar.height;\n        _this2.ctx.fillStyle = color;\n        if (borderWidth > 0) {\n          _this2.ctx.strokeStyle = getBorderColor(bar);\n          _this2.ctx.lineWidth = borderWidth;\n        }\n        _this2.ctx.beginPath();\n        _this2.ctx.rect(x, y, width, height);\n        _this2.ctx.fill();\n        if (borderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme;\n      return React.createElement(Container, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref3) {\n        var showTooltip = _ref3.showTooltip,\n            hideTooltip = _ref3.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n  return BarCanvas;\n}(Component);\nBarCanvas.propTypes = BarPropTypes;\nvar BarCanvas$1 = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Bar$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(BarCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Bar$1 as Bar, BarCanvas$1 as BarCanvas, BarDefaultProps, BarPropTypes, ResponsiveBar, ResponsiveBarCanvas };\n"]},"metadata":{},"sourceType":"module"}